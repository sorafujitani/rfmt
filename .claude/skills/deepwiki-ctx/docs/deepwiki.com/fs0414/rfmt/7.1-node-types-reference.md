---
title: "Node Types Reference | fs0414/rfmt | DeepWiki"
source_url: "https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference"
fetched_at: "2026-01-13T10:53:43.101777+00:00"
---



Loading...

Index your code with Devin

[DeepWiki](https://deepwiki.com/)

[DeepWiki](https://deepwiki.com/)

[fs0414/rfmt](https://github.com/fs0414/rfmt "Open repository")

Index your code with

Devin

Edit WikiShare

Loading...

Last indexed: 3 January 2026 ([90c575](https://github.com/fs0414/rfmt/commits/90c575e6))

* [Overview](https://deepwiki.com/fs0414/rfmt/1-overview.html)
* [Architecture Overview](https://deepwiki.com/fs0414/rfmt/1.1-architecture-overview.html)
* [Key Concepts](https://deepwiki.com/fs0414/rfmt/1.2-key-concepts.html)
* [Getting Started](https://deepwiki.com/fs0414/rfmt/2-getting-started.html)
* [Installation](https://deepwiki.com/fs0414/rfmt/2.1-installation.html)
* [Configuration](https://deepwiki.com/fs0414/rfmt/2.2-configuration.html)
* [User Guides](https://deepwiki.com/fs0414/rfmt/3-user-guides.html)
* [CLI Usage](https://deepwiki.com/fs0414/rfmt/3.1-cli-usage.html)
* [Ruby API](https://deepwiki.com/fs0414/rfmt/3.2-ruby-api.html)
* [Editor Integration](https://deepwiki.com/fs0414/rfmt/3.3-editor-integration.html)
* [Core Systems](https://deepwiki.com/fs0414/rfmt/4-core-systems.html)
* [AST Representation](https://deepwiki.com/fs0414/rfmt/4.1-ast-representation.html)
* [Formatting Engine (Emitter)](https://deepwiki.com/fs0414/rfmt/4.2-formatting-engine-(emitter).html)
* [Parser Integration (PrismBridge)](https://deepwiki.com/fs0414/rfmt/4.3-parser-integration-(prismbridge).html)
* [Configuration System](https://deepwiki.com/fs0414/rfmt/4.4-configuration-system.html)
* [Caching System](https://deepwiki.com/fs0414/rfmt/4.5-caching-system.html)
* [Logging System](https://deepwiki.com/fs0414/rfmt/4.6-logging-system.html)
* [Formatting Behavior](https://deepwiki.com/fs0414/rfmt/5-formatting-behavior.html)
* [Control Flow Formatting](https://deepwiki.com/fs0414/rfmt/5.1-control-flow-formatting.html)
* [Exception Handling Formatting](https://deepwiki.com/fs0414/rfmt/5.2-exception-handling-formatting.html)
* [Lambda and Block Formatting](https://deepwiki.com/fs0414/rfmt/5.3-lambda-and-block-formatting.html)
* [Development](https://deepwiki.com/fs0414/rfmt/6-development.html)
* [Building from Source](https://deepwiki.com/fs0414/rfmt/6.1-building-from-source.html)
* [Testing](https://deepwiki.com/fs0414/rfmt/6.2-testing.html)
* [Release Process](https://deepwiki.com/fs0414/rfmt/6.3-release-process.html)
* [Reference](https://deepwiki.com/fs0414/rfmt/7-reference.html)
* [Node Types Reference](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html)
* [Configuration Options Reference](https://deepwiki.com/fs0414/rfmt/7.2-configuration-options-reference.html)
* [Error Codes Reference](https://deepwiki.com/fs0414/rfmt/7.3-error-codes-reference.html)
* [Performance and Benchmarks](https://deepwiki.com/fs0414/rfmt/7.4-performance-and-benchmarks.html)

Menu

# Node Types Reference

Relevant source files

* [docs/development-notes.md](https://github.com/fs0414/rfmt/blob/90c575e6/docs/development-notes.md)
* [ext/rfmt/src/ast/mod.rs](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs)
* [ext/rfmt/src/emitter/mod.rs](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs)
* [lib/rfmt/prism\_bridge.rb](https://github.com/fs0414/rfmt/blob/90c575e6/lib/rfmt/prism_bridge.rb)
* [lib/rfmt/prism\_node\_extractor.rb](https://github.com/fs0414/rfmt/blob/90c575e6/lib/rfmt/prism_node_extractor.rb)

This page provides a complete enumeration of all `NodeType` variants recognized by rfmt's internal AST representation. Each `NodeType` corresponds to a specific Ruby language construct and determines how the formatting engine processes that node.

For information about how the AST is constructed from Prism parser output, see [Parser Integration (PrismBridge)](https://deepwiki.com/fs0414/rfmt/4.3-parser-integration-(prismbridge).html). For details on how each node type is formatted, see [Formatting Engine (Emitter)](https://deepwiki.com/fs0414/rfmt/4.2-formatting-engine-(emitter).html). For examples of how specific constructs are formatted, see [Formatting Behavior](https://deepwiki.com/fs0414/rfmt/5-formatting-behavior.html).

**Sources:** [ext/rfmt/src/ast/mod.rs27-184](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L27-L184) [ext/rfmt/src/emitter/mod.rs148-171](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L148-L171)

---

## Node Type Categories

The `NodeType` enum contains 80+ variants organized into semantic categories. The Emitter uses pattern matching on `NodeType` to dispatch to specialized formatting methods for different Ruby constructs.

**Sources:** [ext/rfmt/src/ast/mod.rs27-184](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L27-L184)

---

## NodeType Dispatch in Emitter

The Emitter's `emit_node` method dispatches based on `NodeType` to specialized formatting handlers. Some node types receive custom formatting logic, while others fall back to source extraction.

**Sources:** [ext/rfmt/src/emitter/mod.rs149-171](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L149-L171)

---

## Program & Statements

These node types represent the structural backbone of Ruby programs.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `ProgramNode` | Root node of the AST, represents the entire program | `emit_program` | [ext/rfmt/src/ast/mod.rs32](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L32-L32) |
| `StatementsNode` | Sequence of statements (method body, class body, etc.) | `emit_statements` | [ext/rfmt/src/ast/mod.rs33](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L33-L33) |

**Details:**

* `ProgramNode` is always the root and contains a single `StatementsNode` child
* `StatementsNode` appears as the body of classes, modules, methods, blocks, and control structures
* The Emitter handles blank line preservation between statements

**Sources:** [ext/rfmt/src/ast/mod.rs31-33](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L31-L33) [ext/rfmt/src/emitter/mod.rs173-227](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L173-L227)

---

## Definitions

Definition nodes represent class, module, and method declarations.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `ClassNode` | Class definition (`class ClassName < Superclass ... end`) | `emit_class` | [ext/rfmt/src/ast/mod.rs36](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L36-L36) |
| `ModuleNode` | Module definition (`module ModuleName ... end`) | `emit_module` | [ext/rfmt/src/ast/mod.rs37](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L37-L37) |
| `DefNode` | Method definition (`def method_name(params) ... end`) | `emit_method` | [ext/rfmt/src/ast/mod.rs38](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L38-L38) |

**Metadata Extracted:**

* `ClassNode`: `name`, `superclass` (e.g., `"User"`, `"ApplicationRecord"`)
* `ModuleNode`: `name` (e.g., `"Helpers"`, `"API::V1"`)
* `DefNode`: `name`, `parameters_count`, `receiver` (for `def self.method_name`)

**Children Structure:**

* `ClassNode`: `[ConstantPathNode, Superclass, StatementsNode]`
* `ModuleNode`: `[ConstantPathNode, StatementsNode]`
* `DefNode`: `[ParameterNodes..., StatementsNode]`

**Sources:** [ext/rfmt/src/ast/mod.rs35-38](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L35-L38) [ext/rfmt/src/emitter/mod.rs229-385](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L229-L385) [lib/rfmt/prism\_bridge.rb313-338](https://github.com/fs0414/rfmt/blob/90c575e6/lib/rfmt/prism_bridge.rb#L313-L338)

---

## Expressions

Expression nodes represent conditional logic and method calls.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `CallNode` | Method call (`object.method(args)`, `method(args)`) | `emit_call` | [ext/rfmt/src/ast/mod.rs41](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L41-L41) |
| `IfNode` | If conditional (supports `if`, `elsif`, ternary `? :`, postfix `if`) | `emit_if_unless` | [ext/rfmt/src/ast/mod.rs42](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L42-L42) |
| `ElseNode` | Else clause in if/unless/case statements | (inline) | [ext/rfmt/src/ast/mod.rs43](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L43-L43) |
| `UnlessNode` | Unless conditional (negative if) | `emit_if_unless` | [ext/rfmt/src/ast/mod.rs44](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L44-L44) |

**Special Handling:**

* `CallNode` detects block style (`do...end` vs `{ }`) and preserves it
* `IfNode` detects three forms: standard `if...end`, postfix modifier `statement if condition`, and ternary `condition ? true_val : false_val`
* Metadata `is_ternary` distinguishes ternary from standard if

**Children Structure:**

* `CallNode`: `[Receiver, Arguments..., BlockNode]`
* `IfNode`/`UnlessNode`: `[Predicate, StatementsNode, Consequent]` where Consequent is `ElseNode` or another `IfNode` (for elsif)

**Sources:** [ext/rfmt/src/ast/mod.rs40-44](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L40-L44) [ext/rfmt/src/emitter/mod.rs647-857](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L647-L857) [lib/rfmt/prism\_bridge.rb361-365](https://github.com/fs0414/rfmt/blob/90c575e6/lib/rfmt/prism_bridge.rb#L361-L365)

---

## Exception Handling

Exception handling nodes represent Ruby's error handling mechanisms.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `BeginNode` | Begin block (explicit `begin...end` or implicit method body wrapper) | `emit_begin` | [ext/rfmt/src/ast/mod.rs47](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L47-L47) |
| `RescueNode` | Rescue clause (`rescue ExceptionClass => var`) | `emit_rescue` | [ext/rfmt/src/ast/mod.rs48](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L48-L48) |
| `EnsureNode` | Ensure clause (always executes) | `emit_ensure` | [ext/rfmt/src/ast/mod.rs83](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L83-L83) |
| `RescueModifierNode` | Inline rescue modifier (`expression rescue fallback`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs107](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L107-L107) |

**Special Handling:**

* `BeginNode` distinguishes explicit `begin` blocks from implicit wrapping in methods with rescue/ensure
* `RescueNode` children include exception classes, variable binding, body statements, and subsequent rescue clauses
* `EnsureNode` is dedented to align with the begin/rescue/method def

**Children Structure:**

* `BeginNode`: `[StatementsNode, RescueNode, EnsureNode]`
* `RescueNode`: `[ExceptionClasses..., LocalVariableTargetNode, StatementsNode, RescueNode]`
* `EnsureNode`: `[StatementsNode]`

**Sources:** [ext/rfmt/src/ast/mod.rs46-48](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L46-L48) [ext/rfmt/src/emitter/mod.rs387-538](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L387-L538) [lib/rfmt/prism\_bridge.rb176-196](https://github.com/fs0414/rfmt/blob/90c575e6/lib/rfmt/prism_bridge.rb#L176-L196)

---

## Literals

Literal nodes represent fixed values in Ruby code.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `StringNode` | String literal (`"hello"`, `'world'`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs51](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L51-L51) |
| `IntegerNode` | Integer literal (`42`, `0x2A`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs52](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L52-L52) |
| `FloatNode` | Float literal (`3.14`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs53](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L53-L53) |
| `ArrayNode` | Array literal (`[1, 2, 3]`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs54](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L54-L54) |
| `HashNode` | Hash literal (`{key: value}`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs55](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L55-L55) |
| `TrueNode` | Boolean true | `emit_generic` | [ext/rfmt/src/ast/mod.rs56](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L56-L56) |
| `FalseNode` | Boolean false | `emit_generic` | [ext/rfmt/src/ast/mod.rs57](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L57-L57) |
| `NilNode` | Nil value | `emit_generic` | [ext/rfmt/src/ast/mod.rs58](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L58-L58) |
| `SymbolNode` | Symbol literal (`:symbol`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs59](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L59-L59) |
| `RangeNode` | Range (`1..10`, `1...10`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs110](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L110-L110) |
| `RegularExpressionNode` | Regex literal (`/pattern/i`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs113](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L113-L113) |
| `XStringNode` | Command execution literal (`` `command` ``) | `emit_generic` | [ext/rfmt/src/ast/mod.rs117](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L117-L117) |

**Metadata Extracted:**

* `StringNode`: `content` (the string contents without quotes)
* `IntegerNode`, `FloatNode`, `SymbolNode`: `value`

**Sources:** [ext/rfmt/src/ast/mod.rs50-59](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L50-L59) [lib/rfmt/prism\_bridge.rb346-361](https://github.com/fs0414/rfmt/blob/90c575e6/lib/rfmt/prism_bridge.rb#L346-L361)

---

## Blocks and Lambdas

Block-related nodes represent closures and anonymous functions.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `BlockNode` | Block (`do...end` or `{ }`) attached to method call | (handled in `emit_call`) | [ext/rfmt/src/ast/mod.rs62](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L62-L62) |
| `LambdaNode` | Lambda (`->`, `->(x)`, `lambda`) | `emit_lambda` | [ext/rfmt/src/ast/mod.rs79](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L79-L79) |

**Special Handling:**

* `BlockNode` style detection (`do...end` vs `{ }`) preserves original style
* Block parameters (`|x, y|`) are extracted from source
* Multiline brace blocks get proper indentation

**Children Structure:**

* `BlockNode`: `[ParameterNodes..., StatementsNode]`
* `LambdaNode`: `[ParameterNodes..., StatementsNode]`

**Sources:** [ext/rfmt/src/ast/mod.rs62](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L62-L62) [ext/rfmt/src/emitter/mod.rs540-547](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L540-L547) [ext/rfmt/src/emitter/mod.rs859-985](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L859-L985)

---

## Case/When and Pattern Matching

Case statement and pattern matching nodes.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `CaseNode` | Case statement (`case expr when ... end`) | `emit_case` | [ext/rfmt/src/ast/mod.rs65](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L65-L65) |
| `WhenNode` | When clause in case statement | `emit_when` | [ext/rfmt/src/ast/mod.rs66](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L66-L66) |
| `CaseMatchNode` | Pattern matching case (`case in`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs150](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L150-L150) |
| `InNode` | Pattern matching branch | `emit_generic` | [ext/rfmt/src/ast/mod.rs151](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L151-L151) |
| `MatchPredicateNode` | Pattern match test (`expr in pattern`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs152](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L152-L152) |
| `MatchRequiredNode` | Pattern match assertion (`expr => pattern`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs153](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L153-L153) |

**Children Structure:**

* `CaseNode`: `[Predicate, WhenNode..., ElseNode]`
* `WhenNode`: `[Conditions..., StatementsNode]`

**Sources:** [ext/rfmt/src/ast/mod.rs64-66](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L64-L66) [ext/rfmt/src/emitter/mod.rs549-645](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L549-L645)

---

## Hash-Related Nodes

Special node types for hash construction.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `AssocNode` | Key-value pair in hash (`key: value`, `key => value`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs69](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L69-L69) |
| `KeywordHashNode` | Keyword argument hash (implicit hash in method args) | `emit_generic` | [ext/rfmt/src/ast/mod.rs70](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L70-L70) |
| `AssocSplatNode` | Hash splat (`**hash`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs163](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L163-L163) |

**Sources:** [ext/rfmt/src/ast/mod.rs68-70](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L68-L70)

---

## Variables

Variable nodes represent variable reads and writes for different scopes.

### Local Variables

| NodeType | Description | Line Reference |
| --- | --- | --- |
| `LocalVariableReadNode` | Read local variable (`foo`) | [ext/rfmt/src/ast/mod.rs73](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L73-L73) |
| `LocalVariableWriteNode` | Write local variable (`foo = 1`) | [ext/rfmt/src/ast/mod.rs74](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L74-L74) |
| `LocalVariableOrWriteNode` | Or-assign local variable (`foo ||= 1`) | [ext/rfmt/src/ast/mod.rs135](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L135-L135) |
| `LocalVariableAndWriteNode` | And-assign local variable (`foo &&= 1`) | [ext/rfmt/src/ast/mod.rs136](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L136-L136) |
| `LocalVariableOperatorWriteNode` | Operator-assign local variable (`foo += 1`) | [ext/rfmt/src/ast/mod.rs137](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L137-L137) |

### Instance Variables

| NodeType | Description | Line Reference |
| --- | --- | --- |
| `InstanceVariableReadNode` | Read instance variable (`@foo`) | [ext/rfmt/src/ast/mod.rs75](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L75-L75) |
| `InstanceVariableWriteNode` | Write instance variable (`@foo = 1`) | [ext/rfmt/src/ast/mod.rs76](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L76-L76) |
| `InstanceVariableOrWriteNode` | Or-assign instance variable (`@foo ||= 1`) | [ext/rfmt/src/ast/mod.rs138](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L138-L138) |
| `InstanceVariableAndWriteNode` | And-assign instance variable (`@foo &&= 1`) | [ext/rfmt/src/ast/mod.rs139](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L139-L139) |
| `InstanceVariableOperatorWriteNode` | Operator-assign instance variable (`@foo += 1`) | [ext/rfmt/src/ast/mod.rs140](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L140-L140) |

### Class Variables

| NodeType | Description | Line Reference |
| --- | --- | --- |
| `ClassVariableReadNode` | Read class variable (`@@foo`) | [ext/rfmt/src/ast/mod.rs121](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L121-L121) |
| `ClassVariableWriteNode` | Write class variable (`@@foo = 1`) | [ext/rfmt/src/ast/mod.rs122](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L122-L122) |
| `ClassVariableOrWriteNode` | Or-assign class variable (`@@foo ||= 1`) | [ext/rfmt/src/ast/mod.rs123](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L123-L123) |
| `ClassVariableAndWriteNode` | And-assign class variable (`@@foo &&= 1`) | [ext/rfmt/src/ast/mod.rs124](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L124-L124) |
| `ClassVariableOperatorWriteNode` | Operator-assign class variable (`@@foo += 1`) | [ext/rfmt/src/ast/mod.rs125](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L125-L125) |

### Global Variables

| NodeType | Description | Line Reference |
| --- | --- | --- |
| `GlobalVariableReadNode` | Read global variable (`$foo`) | [ext/rfmt/src/ast/mod.rs128](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L128-L128) |
| `GlobalVariableWriteNode` | Write global variable (`$foo = 1`) | [ext/rfmt/src/ast/mod.rs129](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L129-L129) |
| `GlobalVariableOrWriteNode` | Or-assign global variable (`$foo ||= 1`) | [ext/rfmt/src/ast/mod.rs130](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L130-L130) |
| `GlobalVariableAndWriteNode` | And-assign global variable (`$foo &&= 1`) | [ext/rfmt/src/ast/mod.rs131](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L131-L131) |
| `GlobalVariableOperatorWriteNode` | Operator-assign global variable (`$foo += 1`) | [ext/rfmt/src/ast/mod.rs132](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L132-L132) |

**Sources:** [ext/rfmt/src/ast/mod.rs72-147](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L72-L147)

---

## Control Flow

Control flow nodes represent flow control statements.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `ReturnNode` | Return statement (`return`, `return value`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs82](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L82-L82) |
| `BreakNode` | Break from loop (`break`, `break value`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs100](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L100-L100) |
| `NextNode` | Next iteration (`next`, `next value`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs101](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L101-L101) |
| `RedoNode` | Redo iteration (`redo`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs102](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L102-L102) |
| `RetryNode` | Retry (in rescue) (`retry`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs103](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L103-L103) |
| `YieldNode` | Yield to block (`yield`, `yield args`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs104](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L104-L104) |
| `SuperNode` | Call superclass method (`super`, `super(args)`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs105](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L105-L105) |
| `ForwardingSuperNode` | Forward all arguments to super (`super`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs106](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L106-L106) |

**Children Structure:**

* `ReturnNode`, `BreakNode`, `NextNode`, `YieldNode`: `[Arguments...]`
* `SuperNode`: `[Arguments..., BlockNode]`
* `RedoNode`, `RetryNode`: no children

**Sources:** [ext/rfmt/src/ast/mod.rs82](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L82-L82) [ext/rfmt/src/ast/mod.rs99-107](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L99-L107)

---

## Loop Constructs

Loop nodes represent iterative control structures.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `WhileNode` | While loop (`while condition ... end`) | `emit_while_until` | [ext/rfmt/src/ast/mod.rs95](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L95-L95) |
| `UntilNode` | Until loop (`until condition ... end`) | `emit_while_until` | [ext/rfmt/src/ast/mod.rs96](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L96-L96) |
| `ForNode` | For loop (`for var in collection ... end`) | `emit_for` | [ext/rfmt/src/ast/mod.rs97](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L97-L97) |

**Children Structure:**

* `WhileNode`/`UntilNode`: `[Predicate, StatementsNode]`
* `ForNode`: `[IndexVariable, Collection, StatementsNode]`

**Sources:** [ext/rfmt/src/ast/mod.rs94-97](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L94-L97) [ext/rfmt/src/emitter/mod.rs165-167](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L165-L167)

---

## Logical Operators

Logical operator nodes represent boolean operations.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `OrNode` | Logical OR (`a || b`, `a or b`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs90](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L90-L90) |
| `AndNode` | Logical AND (`a && b`, `a and b`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs91](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L91-L91) |
| `NotNode` | Logical NOT (`!a`, `not a`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs92](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L92-L92) |

**Children Structure:**

* `OrNode`, `AndNode`: `[Left, Right]`
* `NotNode`: `[Expression]`

**Sources:** [ext/rfmt/src/ast/mod.rs89-92](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L89-L92)

---

## String and Regex Interpolation

Nodes for interpolated strings and regular expressions.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `InterpolatedStringNode` | String with interpolation (`"Hello #{name}"`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs86](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L86-L86) |
| `EmbeddedStatementsNode` | Code inside interpolation (`#{expr}`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs87](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L87-L87) |
| `InterpolatedRegularExpressionNode` | Regex with interpolation (`/pattern #{var}/`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs115](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L115-L115) |
| `InterpolatedSymbolNode` | Symbol with interpolation (`:"sym_#{var}"`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs116](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L116-L116) |
| `InterpolatedXStringNode` | Command with interpolation (`` `echo #{var}` ``) | `emit_generic` | [ext/rfmt/src/ast/mod.rs118](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L118-L118) |

**Children Structure:**

* Interpolated nodes contain a mix of string parts and `EmbeddedStatementsNode` children

**Sources:** [ext/rfmt/src/ast/mod.rs86-87](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L86-L87) [ext/rfmt/src/ast/mod.rs113-118](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L113-L118)

---

## Constants

Constant-related nodes (treated as structural nodes by the Emitter).

| NodeType | Description | Line Reference |
| --- | --- | --- |
| `ConstantReadNode` | Read constant (`CONSTANT`) | [ext/rfmt/src/ast/mod.rs169](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L169-L169) |
| `ConstantWriteNode` | Write constant (`CONSTANT = 1`) | [ext/rfmt/src/ast/mod.rs170](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L170-L170) |
| `ConstantPathNode` | Namespaced constant (`Foo::Bar::BAZ`) | [ext/rfmt/src/ast/mod.rs171](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L171-L171) |
| `ConstantOrWriteNode` | Or-assign constant (`FOO ||= 1`) | [ext/rfmt/src/ast/mod.rs141](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L141-L141) |
| `ConstantAndWriteNode` | And-assign constant (`FOO &&= 1`) | [ext/rfmt/src/ast/mod.rs142](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L142-L142) |
| `ConstantOperatorWriteNode` | Operator-assign constant (`FOO += 1`) | [ext/rfmt/src/ast/mod.rs143](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L143-L143) |
| `ConstantPathWriteNode` | Write namespaced constant (`Foo::BAR = 1`) | [ext/rfmt/src/ast/mod.rs147](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L147-L147) |
| `ConstantPathOrWriteNode` | Or-assign namespaced constant | [ext/rfmt/src/ast/mod.rs144](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L144-L144) |
| `ConstantPathAndWriteNode` | And-assign namespaced constant | [ext/rfmt/src/ast/mod.rs145](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L145-L145) |
| `ConstantPathOperatorWriteNode` | Operator-assign namespaced constant | [ext/rfmt/src/ast/mod.rs146](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L146-L146) |

**Note:** Constant nodes are often skipped by the Emitter's `is_structural_node` check when emitting class/module bodies, as they represent the class/module name itself rather than body content.

**Sources:** [ext/rfmt/src/ast/mod.rs168-171](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L168-L171) [ext/rfmt/src/ast/mod.rs141-147](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L141-L147)

---

## Parameters

Parameter nodes represent method and block parameter declarations (treated as structural nodes).

| NodeType | Description | Line Reference |
| --- | --- | --- |
| `RequiredParameterNode` | Required parameter (`def foo(x)`) | [ext/rfmt/src/ast/mod.rs174](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L174-L174) |
| `OptionalParameterNode` | Optional parameter with default (`def foo(x = 1)`) | [ext/rfmt/src/ast/mod.rs175](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L175-L175) |
| `RestParameterNode` | Splat parameter (`def foo(*args)`) | [ext/rfmt/src/ast/mod.rs176](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L176-L176) |
| `KeywordParameterNode` | Keyword parameter (`def foo(x:)`) | [ext/rfmt/src/ast/mod.rs177](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L177-L177) |
| `RequiredKeywordParameterNode` | Required keyword parameter | [ext/rfmt/src/ast/mod.rs178](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L178-L178) |
| `OptionalKeywordParameterNode` | Optional keyword parameter (`def foo(x: 1)`) | [ext/rfmt/src/ast/mod.rs179](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L179-L179) |
| `KeywordRestParameterNode` | Double splat parameter (`def foo(**kwargs)`) | [ext/rfmt/src/ast/mod.rs180](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L180-L180) |
| `BlockParameterNode` | Block parameter (`def foo(&block)`) | [ext/rfmt/src/ast/mod.rs181](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L181-L181) |

**Note:** Parameter nodes appear as children of `DefNode` and `BlockNode`. The Emitter extracts parameter syntax from source code rather than reconstructing it from individual parameter nodes, to preserve complex default value expressions.

**Sources:** [ext/rfmt/src/ast/mod.rs173-181](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L173-L181) [ext/rfmt/src/emitter/mod.rs332-358](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L332-L358)

---

## Other Common Nodes

Miscellaneous node types for various Ruby constructs.

| NodeType | Description | Emitter Method | Line Reference |
| --- | --- | --- | --- |
| `SelfNode` | Self reference (`self`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs156](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L156-L156) |
| `ParenthesesNode` | Parenthesized expression (`(expr)`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs157](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L157-L157) |
| `DefinedNode` | Defined? operator (`defined?(var)`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs158](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L158-L158) |
| `SingletonClassNode` | Singleton class definition (`class << obj`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs159](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L159-L159) |
| `AliasMethodNode` | Method alias (`alias new_name old_name`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs160](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L160-L160) |
| `AliasGlobalVariableNode` | Global variable alias | `emit_generic` | [ext/rfmt/src/ast/mod.rs161](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L161-L161) |
| `UndefNode` | Undefine method (`undef method_name`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs162](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L162-L162) |
| `BlockArgumentNode` | Block argument in call (`foo(&block)`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs164](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L164-L164) |
| `SplatNode` | Splat in array/call (`*array`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs114](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L114-L114) |
| `MultiWriteNode` | Multiple assignment (`a, b = 1, 2`) | `emit_generic` | [ext/rfmt/src/ast/mod.rs165](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L165-L165) |
| `MultiTargetNode` | Multiple assignment target | `emit_generic` | [ext/rfmt/src/ast/mod.rs166](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L166-L166) |

**Sources:** [ext/rfmt/src/ast/mod.rs155-166](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L155-L166)

---

## Unknown Node Types

The `NodeType` enum includes an `Unknown` variant for handling Prism node types not explicitly supported by rfmt.

**Behavior:**

* When PrismBridge encounters an unrecognized node type name, `NodeType::from_str` returns `Unknown(name)` [ext/rfmt/src/ast/mod.rs293](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L293-L293)
* Unknown nodes fall through to `emit_generic`, which extracts the original source text
* This ensures rfmt can handle new Ruby syntax without immediate updates
* Test helper methods like `is_unknown()` and `unknown_type()` aid debugging [ext/rfmt/src/ast/mod.rs390-402](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L390-L402)

**Sources:** [ext/rfmt/src/ast/mod.rs183](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L183-L183) [ext/rfmt/src/ast/mod.rs293-295](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L293-L295) [ext/rfmt/src/ast/mod.rs390-402](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/ast/mod.rs#L390-L402)

---

## Structural Nodes

The Emitter's `is_structural_node` method identifies node types that represent structure rather than executable code. These are typically skipped when emitting class/module/method bodies.

**Structural Node Categories:**

1. **Constants:** `ConstantReadNode`, `ConstantPathNode` - represent class/module names
2. **Parameters:** All parameter node types - represent method signature, not body
3. **Names:** Nodes that are part of definitions rather than executable statements

**Usage:** When emitting `ClassNode`, `ModuleNode`, or `DefNode`, children matching `is_structural_node` are skipped, as their content is already emitted as part of the definition line.

**Sources:** [ext/rfmt/src/emitter/mod.rs1008-1047](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L1008-L1047)

---

## Summary Table: Custom vs. Generic Formatting

This table shows which node types receive specialized formatting versus generic source extraction.

| Formatting Type | Node Types | Count |
| --- | --- | --- |
| **Custom Emit Methods** | `ProgramNode`, `StatementsNode`, `ClassNode`, `ModuleNode`, `DefNode`, `IfNode`, `UnlessNode`, `CallNode`, `BeginNode`, `RescueNode`, `EnsureNode`, `LambdaNode`, `CaseNode`, `WhenNode`, `WhileNode`, `UntilNode`, `ForNode` | 17 |
| **Generic Source Extraction** | All other node types (literals, variables, operators, etc.) | 65+ |

**Design Rationale:** Custom formatting is implemented for nodes requiring:

* Structural indentation management (classes, methods, blocks)
* Block style preservation (`do...end` vs `{ }`)
* Special syntax handling (postfix if, ternary, rescue clauses)
* Comment positioning relative to structure

Generic source extraction is used for nodes where:

* The original source representation is optimal
* Complex sub-syntax is difficult to reconstruct (e.g., method parameters with defaults)
* Ruby syntax is unambiguous and doesn't benefit from reformatting

**Sources:** [ext/rfmt/src/emitter/mod.rs148-171](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L148-L171) [ext/rfmt/src/emitter/mod.rs988-1007](https://github.com/fs0414/rfmt/blob/90c575e6/ext/rfmt/src/emitter/mod.rs#L988-L1007)

Dismiss

Refresh this wiki

Enter email to refresh

### On this page

* [Node Types Reference](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#node-types-reference)
* [Node Type Categories](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#node-type-categories)
* [NodeType Dispatch in Emitter](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#nodetype-dispatch-in-emitter)
* [Program & Statements](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#program-statements)
* [Definitions](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#definitions)
* [Expressions](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#expressions)
* [Exception Handling](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#exception-handling)
* [Literals](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#literals)
* [Blocks and Lambdas](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#blocks-and-lambdas)
* [Case/When and Pattern Matching](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#casewhen-and-pattern-matching)
* [Hash-Related Nodes](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#hash-related-nodes)
* [Variables](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#variables)
* [Local Variables](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#local-variables)
* [Instance Variables](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#instance-variables)
* [Class Variables](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#class-variables)
* [Global Variables](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#global-variables)
* [Control Flow](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#control-flow)
* [Loop Constructs](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#loop-constructs)
* [Logical Operators](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#logical-operators)
* [String and Regex Interpolation](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#string-and-regex-interpolation)
* [Constants](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#constants)
* [Parameters](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#parameters)
* [Other Common Nodes](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#other-common-nodes)
* [Unknown Node Types](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#unknown-node-types)
* [Structural Nodes](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#structural-nodes)
* [Summary Table: Custom vs. Generic Formatting](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html#summary-table-custom-vs-generic-formatting)
