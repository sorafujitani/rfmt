---
title: "Installation | fs0414/rfmt | DeepWiki"
source_url: "https://deepwiki.com/fs0414/rfmt/2.1-installation"
fetched_at: "2026-01-13T10:53:43.101777+00:00"
---



Loading...

Index your code with Devin

[DeepWiki](https://deepwiki.com/)

[DeepWiki](https://deepwiki.com/)

[fs0414/rfmt](https://github.com/fs0414/rfmt "Open repository")

Index your code with

Devin

Edit WikiShare

Loading...

Last indexed: 3 January 2026 ([90c575](https://github.com/fs0414/rfmt/commits/90c575e6))

* [Overview](https://deepwiki.com/fs0414/rfmt/1-overview.html)
* [Architecture Overview](https://deepwiki.com/fs0414/rfmt/1.1-architecture-overview.html)
* [Key Concepts](https://deepwiki.com/fs0414/rfmt/1.2-key-concepts.html)
* [Getting Started](https://deepwiki.com/fs0414/rfmt/2-getting-started.html)
* [Installation](https://deepwiki.com/fs0414/rfmt/2.1-installation.html)
* [Configuration](https://deepwiki.com/fs0414/rfmt/2.2-configuration.html)
* [User Guides](https://deepwiki.com/fs0414/rfmt/3-user-guides.html)
* [CLI Usage](https://deepwiki.com/fs0414/rfmt/3.1-cli-usage.html)
* [Ruby API](https://deepwiki.com/fs0414/rfmt/3.2-ruby-api.html)
* [Editor Integration](https://deepwiki.com/fs0414/rfmt/3.3-editor-integration.html)
* [Core Systems](https://deepwiki.com/fs0414/rfmt/4-core-systems.html)
* [AST Representation](https://deepwiki.com/fs0414/rfmt/4.1-ast-representation.html)
* [Formatting Engine (Emitter)](https://deepwiki.com/fs0414/rfmt/4.2-formatting-engine-(emitter).html)
* [Parser Integration (PrismBridge)](https://deepwiki.com/fs0414/rfmt/4.3-parser-integration-(prismbridge).html)
* [Configuration System](https://deepwiki.com/fs0414/rfmt/4.4-configuration-system.html)
* [Caching System](https://deepwiki.com/fs0414/rfmt/4.5-caching-system.html)
* [Logging System](https://deepwiki.com/fs0414/rfmt/4.6-logging-system.html)
* [Formatting Behavior](https://deepwiki.com/fs0414/rfmt/5-formatting-behavior.html)
* [Control Flow Formatting](https://deepwiki.com/fs0414/rfmt/5.1-control-flow-formatting.html)
* [Exception Handling Formatting](https://deepwiki.com/fs0414/rfmt/5.2-exception-handling-formatting.html)
* [Lambda and Block Formatting](https://deepwiki.com/fs0414/rfmt/5.3-lambda-and-block-formatting.html)
* [Development](https://deepwiki.com/fs0414/rfmt/6-development.html)
* [Building from Source](https://deepwiki.com/fs0414/rfmt/6.1-building-from-source.html)
* [Testing](https://deepwiki.com/fs0414/rfmt/6.2-testing.html)
* [Release Process](https://deepwiki.com/fs0414/rfmt/6.3-release-process.html)
* [Reference](https://deepwiki.com/fs0414/rfmt/7-reference.html)
* [Node Types Reference](https://deepwiki.com/fs0414/rfmt/7.1-node-types-reference.html)
* [Configuration Options Reference](https://deepwiki.com/fs0414/rfmt/7.2-configuration-options-reference.html)
* [Error Codes Reference](https://deepwiki.com/fs0414/rfmt/7.3-error-codes-reference.html)
* [Performance and Benchmarks](https://deepwiki.com/fs0414/rfmt/7.4-performance-and-benchmarks.html)

Menu

# Installation

Relevant source files

* [.rubocop.yml](https://github.com/fs0414/rfmt/blob/90c575e6/.rubocop.yml)
* [CHANGELOG.md](https://github.com/fs0414/rfmt/blob/90c575e6/CHANGELOG.md)
* [Gemfile.lock](https://github.com/fs0414/rfmt/blob/90c575e6/Gemfile.lock)
* [README.md](https://github.com/fs0414/rfmt/blob/90c575e6/README.md)
* [rfmt.gemspec](https://github.com/fs0414/rfmt/blob/90c575e6/rfmt.gemspec)
* [spec/spec\_helper.rb](https://github.com/fs0414/rfmt/blob/90c575e6/spec/spec_helper.rb)

This document covers the installation of `rfmt`, including system requirements, installation methods, platform-specific considerations, and verification steps. For configuration after installation, see [Configuration](https://deepwiki.com/fs0414/rfmt/2.2-configuration.html). For usage instructions, see [CLI Usage](https://deepwiki.com/fs0414/rfmt/3.1-cli-usage.html) and [Ruby API](https://deepwiki.com/fs0414/rfmt/3.2-ruby-api.html).

---

## Purpose and Requirements

`rfmt` is distributed as a Ruby gem with pre-compiled native extensions for common platforms. The gem contains both Ruby code (`lib/`) and Rust code (`ext/rfmt/src/`) that must be compiled into platform-specific binaries during installation.

### System Requirements

| Component | Minimum Version | Purpose |
| --- | --- | --- |
| Ruby | 3.1.0+ | Runtime environment |
| RubyGems | 3.0.0+ | Package management |
| Rust | 1.70+ | Building from source only |

**Sources:** [rfmt.gemspec15](https://github.com/fs0414/rfmt/blob/90c575e6/rfmt.gemspec#L15-L15) [README.md79-82](https://github.com/fs0414/rfmt/blob/90c575e6/README.md#L79-L82)

---

## Installation Methods

**Diagram: Installation Method Decision Flow**

**Sources:** [README.md84-109](https://github.com/fs0414/rfmt/blob/90c575e6/README.md#L84-L109) [rfmt.gemspec33-36](https://github.com/fs0414/rfmt/blob/90c575e6/rfmt.gemspec#L33-L36)

---

## Method 1: Install from RubyGems

The simplest installation method uses the pre-compiled native gem from RubyGems.org:

This downloads a platform-specific gem containing the pre-compiled Rust extension. Supported platforms include:

* **Linux**: x86\_64-linux, aarch64-linux
* **macOS**: x86\_64-darwin, arm64-darwin (Apple Silicon)
* **Windows**: x64-mingw, x64-mswin

After installation, verify availability:

**Sources:** [README.md84-88](https://github.com/fs0414/rfmt/blob/90c575e6/README.md#L84-L88) [Gemfile.lock4](https://github.com/fs0414/rfmt/blob/90c575e6/Gemfile.lock#L4-L4) [Gemfile.lock100-101](https://github.com/fs0414/rfmt/blob/90c575e6/Gemfile.lock#L100-L101)

---

## Method 2: Install via Bundler

For project-specific installations, add `rfmt` to your `Gemfile`:

Then install:

Bundler will resolve the appropriate platform-specific gem and install it to your bundle path. Execute `rfmt` via Bundler:

**Sources:** [README.md90-100](https://github.com/fs0414/rfmt/blob/90c575e6/README.md#L90-L100) [rfmt.gemspec40](https://github.com/fs0414/rfmt/blob/90c575e6/rfmt.gemspec#L40-L40)

---

## Method 3: Build from Source

Building from source requires a Rust toolchain and is necessary for:

* Development on `rfmt` itself
* Platforms without pre-compiled gems
* Custom Rust compilation flags

### Prerequisites

Install Rust via [rustup](https://rustup.rs/):

Verify Rust installation:

### Build Steps

The `rake compile` task invokes `rb_sys` to compile the Rust code in `ext/rfmt/src/` into a native extension at `lib/rfmt/rfmt.bundle` (macOS) or `lib/rfmt/rfmt.so` (Linux).

**Sources:** [README.md102-109](https://github.com/fs0414/rfmt/blob/90c575e6/README.md#L102-L109) [rfmt.gemspec36](https://github.com/fs0414/rfmt/blob/90c575e6/rfmt.gemspec#L36-L36)

---

## Dependency Resolution

**Diagram: Dependency Graph and Extension Compilation**

**Sources:** [rfmt.gemspec40](https://github.com/fs0414/rfmt/blob/90c575e6/rfmt.gemspec#L40-L40) [Gemfile.lock41-42](https://github.com/fs0414/rfmt/blob/90c575e6/Gemfile.lock#L41-L42) [Gemfile.lock31](https://github.com/fs0414/rfmt/blob/90c575e6/Gemfile.lock#L31-L31)

---

## Platform-Specific Considerations

### macOS

`rfmt` provides native gems for both Intel and Apple Silicon:

| Platform | Architecture | Gem Platform ID |
| --- | --- | --- |
| Intel Mac | x86\_64 | x86\_64-darwin |
| Apple Silicon | ARM64 | arm64-darwin-23 |

RubyGems automatically selects the correct platform during installation.

**Building from source on macOS:**

**Sources:** [Gemfile.lock100](https://github.com/fs0414/rfmt/blob/90c575e6/Gemfile.lock#L100-L100) [README.md70-73](https://github.com/fs0414/rfmt/blob/90c575e6/README.md#L70-L73)

### Linux

Pre-compiled gems are available for common Linux distributions:

| Architecture | Gem Platform ID |
| --- | --- |
| x86\_64 | x86\_64-linux |
| ARM64 | aarch64-linux |

**Building from source on Linux:**

**Sources:** [Gemfile.lock100-101](https://github.com/fs0414/rfmt/blob/90c575e6/Gemfile.lock#L100-L101)

### Windows

Windows support is provided via pre-compiled gems for:

| Platform | Gem Platform ID |
| --- | --- |
| 64-bit MinGW | x64-mingw |
| 64-bit MSWIN | x64-mswin |

Building from source on Windows requires additional toolchain setup and is not recommended for most users.

**Sources:** [CHANGELOG.md172](https://github.com/fs0414/rfmt/blob/90c575e6/CHANGELOG.md#L172-L172)

---

## Verification

After installation, verify `rfmt` is working correctly:

### Check Version

Expected output:

```
rfmt 1.2.3
```

### Format a Test File

Create a test Ruby file:

Format it:

Verify formatted output:

### Verify Extension Loaded

**Sources:** [README.md156-161](https://github.com/fs0414/rfmt/blob/90c575e6/README.md#L156-L161) [README.md189-216](https://github.com/fs0414/rfmt/blob/90c575e6/README.md#L189-L216)

---

## Troubleshooting

### Extension Compilation Failures

**Symptom:** Error during `bundle install` or `rake compile`

**Common Causes:**

1. Missing Rust toolchain (check with `rustc --version`)
2. Incompatible Rust version (requires 1.70+)
3. Missing C compiler on Linux (`sudo apt-get install build-essential`)

**Solution:**

**Sources:** [README.md79-82](https://github.com/fs0414/rfmt/blob/90c575e6/README.md#L79-L82)

### Platform-Specific Gem Not Found

**Symptom:** `Gem::InstallError: rfmt requires Ruby version >= 3.1.0`

**Solution:** Upgrade Ruby to 3.1.0 or higher. Check current version:

**Sources:** [rfmt.gemspec15](https://github.com/fs0414/rfmt/blob/90c575e6/rfmt.gemspec#L15-L15)

### rb\_sys Version Conflicts

**Symptom:** `Gem::Dependency` errors related to `rb_sys`

**Solution:** Ensure `rb_sys` version matches requirement:

**Sources:** [rfmt.gemspec40](https://github.com/fs0414/rfmt/blob/90c575e6/rfmt.gemspec#L40-L40) [Gemfile.lock41-42](https://github.com/fs0414/rfmt/blob/90c575e6/Gemfile.lock#L41-L42)

### Ruby 3.4 Compatibility

For Ruby 3.4.1, ensure you're using `rfmt` version 1.2.2 or later to avoid digest initialization errors.

**Sources:** [CHANGELOG.md8-16](https://github.com/fs0414/rfmt/blob/90c575e6/CHANGELOG.md#L8-L16)

---

## Next Steps

After successful installation:

1. **Initialize Configuration:** Create a `.rfmt.yml` configuration file - see [Configuration](https://deepwiki.com/fs0414/rfmt/2.2-configuration.html)
2. **Format Files:** Learn command-line usage - see [CLI Usage](https://deepwiki.com/fs0414/rfmt/3.1-cli-usage.html)
3. **Programmatic Usage:** Integrate with Ruby code - see [Ruby API](https://deepwiki.com/fs0414/rfmt/3.2-ruby-api.html)
4. **Editor Integration:** Set up format-on-save - see [Editor Integration](https://deepwiki.com/fs0414/rfmt/3.3-editor-integration.html)

**Sources:** [README.md113-153](https://github.com/fs0414/rfmt/blob/90c575e6/README.md#L113-L153)

Dismiss

Refresh this wiki

Enter email to refresh

### On this page

* [Installation](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#installation)
* [Purpose and Requirements](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#purpose-and-requirements)
* [System Requirements](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#system-requirements)
* [Installation Methods](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#installation-methods)
* [Method 1: Install from RubyGems](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#method-1-install-from-rubygems)
* [Method 2: Install via Bundler](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#method-2-install-via-bundler)
* [Method 3: Build from Source](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#method-3-build-from-source)
* [Prerequisites](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#prerequisites)
* [Build Steps](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#build-steps)
* [Dependency Resolution](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#dependency-resolution)
* [Platform-Specific Considerations](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#platform-specific-considerations)
* [macOS](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#macos)
* [Linux](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#linux)
* [Windows](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#windows)
* [Verification](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#verification)
* [Check Version](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#check-version)
* [Format a Test File](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#format-a-test-file)
* [Verify Extension Loaded](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#verify-extension-loaded)
* [Troubleshooting](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#troubleshooting)
* [Extension Compilation Failures](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#extension-compilation-failures)
* [Platform-Specific Gem Not Found](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#platform-specific-gem-not-found)
* [rb\_sys Version Conflicts](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#rb_sys-version-conflicts)
* [Ruby 3.4 Compatibility](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#ruby-34-compatibility)
* [Next Steps](https://deepwiki.com/fs0414/rfmt/2.1-installation.html#next-steps)
